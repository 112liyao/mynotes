---
date: 2016-12-30 11:19
status: public
title: 正则
---

* 什么是正则？
> 是一种用来检测或者是匹配符合某个语法规范的字符串语言

* 正则是用来做什么的？
> 登录注册的验证  
> 敏感字符的检测等

* 创建正则
两种方式：
var reg=/ /gim;  
传参：  以字符串的形式传入
var reg=new RegExp（"","gim"）(定界符，模式修正符);  实例化构造函数

* 正则的方法和属性
    * 两个方法
    * test()    
        * 检测成功true    
        * 检测失败false
        * 加全局匹配g没有影响
    * exec()    返回的是一个集合  
         * 0下标要匹配的字符      
         * index 检测到的字符的下标        
         * input  保存的是检测到的字符串      
         * 检测失败输出null  
        * 加g会影响正则对象的lastIndex属性 
 g   全局匹配
 lastIndex   表示的是正则下一次匹配或检测开始的位置   
   
* 原子
是构成正则表达式的最小单位，包含字母、数字、等符号  
正则里一切皆原子
一个原子只能匹配一个字符     

* \d 原子，能匹配到0-9里的任意一个字符  
* \w 匹配任意一个数字、字母、下划线  
* \s 匹配任意一个空白字符
常见的空白字符    \n 换行    \r回车    \t制表符    \f换页    \v垂直制表符    空格         
* \D 匹配除了0-9里面的任意一个字符
* \W 匹配除了数字、字母、下划线之外的所有字符
* \S 匹配除了空白字符之外的所有字符  
\   叫做转义字符


* 原子表
    * [ab][cd]


* 元字符
    * 正则里面表示特殊意义的字符  \d  |  /  (）　？　：　．

* 括号
    * 提高优先级
    * 形成原子分组  
    * 会将括号中匹配到的值压入内存以便调用  同时会将括号中匹配到的值输出
```javascript  
var str="acd1234";
var reg=/a(b|c)d\d/
console.log(reg.exec(str))
```
* 反向引用
```javascript
var reg=/\dabcd\b/;
var reg=/(\d)abcd\1/;
```
*  \1   引入的是前面括号里输出的值

* 取消反向引用
```javascript
var reg=/\dabcd\b/;
var reg=/\da（?:b|c）d\1/;
```
* 在括号引用里添加?:就是取消反向引用 

* . 匹配除了换行以外的所有字符

* 量词（确定匹配的数量，匹配{2,5}前面的字符）

    * {m,n}匹配m到n次
    * {m,}最少匹配m次
    *  
```javascript
*表示匹配0次或者更多次
?表示匹配0次或者1次（也就是<=1次）
+表示匹配1次或者多次（也就是>=1次）
```
* 贪婪匹配
    * 正则总是尽可能多的去匹配
* 吝啬匹配 
    * 尽可能少的去匹配但是要保证表达式匹配成功   从左往右匹配不能越级
    {m,}?
    
^开头 $结尾

g全局匹配
i忽略大小写
m多行匹配
默认匹配第一行
/\bjava\b/  单词匹配   用\b将单词包裹起来

* 支持正则验证的
 * replace()   支持全局匹配
 * split()    加不加g无影响
 * match（）
 * search（）

* search（）
```javascript  
var str="abcdef";
	// var result=str.search("b");
	
	// 用于检测字符串
	// 用来匹配指定字符或正则返回匹配字符首次出现的下标
	var reg=/\W/;
    var result=str.search(reg);
 console.log(result)
	// 不支持全局匹配。匹配不成功返回-1；
```

* match（）
```javascript
var str="abcdef"
	var result=str.match("c")
	console.log(result)
	// 支持全局匹配，不加g和exec输出一样，加g返回值为所有匹配到的值组成的数组
```











